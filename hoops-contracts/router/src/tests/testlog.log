
running 1 test
test tests::test_setup::test_all_adapters_all_functions ... [SETUP] Starting HoopsTestEnvironment setup
[SETUP] Creating test accounts
[SETUP] Deploying tokens
[LOG] Token A deployed at: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)
[LOG] Token B deployed at: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)
[LOG] Token C deployed at: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)
[SETUP] Minting tokens to admin and user
[LOG] Minted 100000000000000 TokenA to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM)
[LOG] Minted 100000000000000 TokenB to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM)
[LOG] Minted 100000000000000 TokenC to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM)
[LOG] Minted 100000000000000 TokenA to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4)
[LOG] Minted 100000000000000 TokenB to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4)
[LOG] Minted 100000000000000 TokenC to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4)
[SETUP] Setting up Soroswap environment
[Soroswap] Minting 7010000000000 of token A and 1000000000000 of token B for Pool AB
[Soroswap] Depositing to Pool AB: 7010000000000 A, 1000000000000 B
[Soroswap] Minting 1010000000000 of token B and 1000000000000 of token C for Pool BC
[Soroswap] Depositing to Pool BC: 1010000000000 B, 1000000000000 C
soroswap environment setup complete. Pools: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N), Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX), router: Contract(CDXKQTPLDDF4RBMJCCTGV2XQ44DCJOY7XZZKPEDJFKQTECSTYHBOI42O), factory: Contract(CD5M24KZHINN46ZCECBNWYKINAIJGRO4WTZNGUCISPZIYUZZAWDS6H7Y)
[LOG] Soroswap router deployed at: Contract(CDXKQTPLDDF4RBMJCCTGV2XQ44DCJOY7XZZKPEDJFKQTECSTYHBOI42O)
[LOG] Soroswap factory deployed at: Contract(CD5M24KZHINN46ZCECBNWYKINAIJGRO4WTZNGUCISPZIYUZZAWDS6H7Y)
[LOG] Soroswap pool 0 deployed at: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N)
[LOG] Soroswap pool 1 deployed at: Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX)
[SETUP] Soroswap environment ready
[SETUP] Setting up Aqua environment
[Aqua] Minting 6999000000000 of token A and 1000000000000 of token B for Pool AB
[Aqua] Depositing to Pool AB: 6999000000000 A, 1000000000000 B
[Aqua] Minting 1000000000000 of token B and 999000000000 of token C for Pool BC
[Aqua] Depositing to Pool BC: 1000000000000 B, 999000000000 C
Aqua pools created: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW), Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)
[LOG] Aqua router deployed at: Contract(CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K)
[LOG] Aqua factory (router) deployed at: Contract(CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K)
[LOG] Aqua pool 0 deployed at: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW)
[LOG] Aqua pool 1 deployed at: Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)
[SETUP] Aqua environment ready
[SETUP] Deploying Phoenix factory
[LOG] Phoenix factory deployed at: Contract(CAIASALDBMWE7F7CU5TVNGKXIP22M7CTE5ROQOZFMIZIYDIYV6YRW2V7)
[SETUP] Setting up Phoenix pools
Phoenix LP Init Info AB: LiquidityPoolInitInfo { admin: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), default_slippage_bps: 2500, fee_recipient: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4), max_allowed_slippage_bps: 5000, max_allowed_spread_bps: 500, max_referral_bps: 5000, stake_init_info: StakeInitInfo { manager: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), max_complexity: 10, min_bond: 10, min_reward: 10 }, swap_fee_bps: 0, token_init_info: TokenInitInfo { token_a: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF), token_b: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN) } }
Phoenix LP Init Info BC: LiquidityPoolInitInfo { admin: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), default_slippage_bps: 2500, fee_recipient: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4), max_allowed_slippage_bps: 5000, max_allowed_spread_bps: 500, max_referral_bps: 5000, stake_init_info: StakeInitInfo { manager: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), max_complexity: 10, min_bond: 10, min_reward: 10 }, swap_fee_bps: 0, token_init_info: TokenInitInfo { token_a: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), token_b: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG) } }
Phoenix constant pool AB address: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA)
Phoenix stable pool BC address: Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
Phoenix Pools created: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA), Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
[LOG] Phoenix pool 0 deployed at: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA)
[LOG] Phoenix pool 1 deployed at: Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
[Phoenix] Minting 7000000000000 of token A and 1000000000000 of token B for Pool AB
[Phoenix] Depositing to Pool AB: 7000000000000 A, 1000000000000 B
[Phoenix] Minting 999000000000 of token B and 1000000000000 of token C for Pool BC
[Phoenix] Depositing to Pool BC: 999000000000 B, 1000000000000 C
[SETUP] Phoenix environment ready
[SETUP] Setting up Comet environment
[Comet] Registering factory contract
[Comet] Uploading pool WASM
[Comet] Initializing factory
[Comet] Creating pool: token_a/token_b (80/20, 1M each)
[Comet] Pool AB address: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)
[Comet] Creating pool: token_b/token_c (50/50, 1M each)
[Comet] Pool BC address: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)
[Comet] Minting 8000000 of token A and 2000000 of token B for Pool AB
[Comet] Depositing to Pool AB: 8000000 A, 2000000 B
[Comet] Minting 5000000 of token B and 5000000 of token C for Pool BC
[Comet] Depositing to Pool BC: 5000000 B, 5000000 C
[Comet] All pools created: Vec(Ok(Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)), Ok(Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)))
[LOG] Comet factory deployed at: Contract(CAQ5UHPIIQ2LXWNVOLLZFEQOUYIWGPGDEMNH4WJQCX3C4LPOI6EKQH5V)
[LOG] Comet pool 0 deployed at: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)
[LOG] Comet pool 1 deployed at: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)
[SETUP] Comet environment ready
[SETUP] Deploying Soroswap adapter
[LOG] Soroswap adapter deployed at: Contract(CBJPUABS5H6EDPZ7AGJYOEWEDQ5HWMZDJNJYFGTTHDEI5FHONNL2BQN5)
[SETUP] Soroswap adapter initialized
[SETUP] Deploying Aqua adapter
[LOG] Aqua adapter deployed at: Contract(CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU)
[SETUP] Aqua adapter initialized
[SETUP] Deploying Phoenix adapter
[LOG] Phoenix adapter deployed at: Contract(CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S)
[SETUP] Phoenix adapter initialized
[SETUP] Deploying Comet adapter
[LOG] Comet adapter deployed at: Contract(CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA)
[SETUP] Comet adapter initialized
[SETUP] Deploying Hoops router
[LOG] Hoops router deployed at: Contract(CB76PKAOC5LBYBH4THVOZGG3U6Y4NUBWGBZVEIN4NCWHUUHRU2BNGNPE)
[SETUP] Hoops router initialized
[SETUP] HoopsTestEnvironment setup complete
[REPORT] Soroswap Pools:
[REPORT]   Pool: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N)
[REPORT - Soroswap]     Tokens: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF), Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)
[REPORT - Soroswap]     Reserves: 7010000000000, 1000000000000
[REPORT - Soroswap]     LP Token: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N) User LP Balance: 2647640457974
[REPORT]   Pool: Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX)
[REPORT - Soroswap]     Tokens: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)
[REPORT - Soroswap]     Reserves: 1010000000000, 1000000000000
[REPORT - Soroswap]     LP Token: Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX) User LP Balance: 1004987561112
[REPORT] Aqua Pools:
[REPORT]   Pool: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW)
[REPORT - Aqua]     Tokens: Vec(Ok(Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)), Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)))
[REPORT - Aqua]     Reserves: Vec(Ok(11000000000000), Ok(11000000000000))
[REPORT - Aqua]     Pool: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW)  LP Token: Contract(CCKXCJQ627FIADDV4MGVLUNRXKUOAXBSZXX3LWUP6NS22HNI4GNQ4J7M) User LP Balance: 11000000000000
[REPORT]   Pool: Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)
[REPORT - Aqua]     Tokens: Vec(Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)), Ok(Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)))
[REPORT - Aqua]     Reserves: Vec(Ok(11000000000000), Ok(10999000000000))
[REPORT - Aqua]     Pool: Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)  LP Token: Contract(CB4YFYPAYB7JMBISV6RELYDNRB47D4KYN3R2YOZORAQBHKPJQD362FST) User LP Balance: 21998999499983
[REPORT] Phoenix Pools:
[REPORT]   Pool: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA)
[REPORT - Phoenix]     Pool Info: PoolResponse { asset_a: Asset { address: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF), amount: 14000000000000 }, asset_b: Asset { address: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), amount: 8000000000000 }, asset_lp_share: Asset { address: Contract(CCO3TGKNVFUK4JKLRTBNRY6BX3XKESSFRKHNIOQVMAGHUI7BDTC4AJWW), amount: 7000000000000 }, stake_address: Contract(CACX5TJTACPXUMJIMVWMMVJHQOGD376WYV73GC37BGJN3442MVCJCSUA) }
[REPORT - Phoenix]     Asset A: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF) amount: 14000000000000
[REPORT - Phoenix]     Asset B: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN) amount: 8000000000000
[REPORT - Phoenix]     LP Share: Contract(CCO3TGKNVFUK4JKLRTBNRY6BX3XKESSFRKHNIOQVMAGHUI7BDTC4AJWW) amount: 7000000000000
[REPORT - Phoenix]     User LP Balance: 6999999999000
[REPORT]   Pool: Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
[REPORT - Phoenix]     Pool Info: PoolResponse { asset_a: Asset { address: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), amount: 1998000000000 }, asset_b: Asset { address: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG), amount: 2000000000000 }, asset_lp_share: Asset { address: Contract(CCSZRO2PYKLSSTZXGVDKTKB7EIATYFM54HLO4IRG3LJPPMJISLWM3AWF), amount: 1998999998999 }, stake_address: Contract(CCR7CS5VIG6QAIWWDH6ZYI3YXBHIGRIT75ZP7WTMHQ2B2A2XEP7D7UGJ) }
[REPORT - Phoenix]     Asset A: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN) amount: 1998000000000
[REPORT - Phoenix]     Asset B: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG) amount: 2000000000000
[REPORT - Phoenix]     LP Share: Contract(CCSZRO2PYKLSSTZXGVDKTKB7EIATYFM54HLO4IRG3LJPPMJISLWM3AWF) amount: 1998999998999
[REPORT - Phoenix]     User LP Balance: 1998999998999
[REPORT] Comet Pools:
[REPORT]   Pool: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)
[REPORT - Comet]     Tokens: Vec(Ok(Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)), Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)))
[REPORT - Comet]       Balance for token Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF): 1001000
[REPORT - Comet]       Balance for token Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN): 1001000
[REPORT - Comet]     LP Token: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS) User LP Balance: 1000000
[REPORT]   Pool: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)
[REPORT - Comet]     Tokens: Vec(Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)), Ok(Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)))
[REPORT - Comet]       Balance for token Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN): 1001000
[REPORT - Comet]       Balance for token Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG): 1001000
[REPORT - Comet]     LP Token: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY) User LP Balance: 1000000
[SOROSWAP][swap_exact_in] Initial user balances: TKA = 74989999999000, TKB = 67990997998000
[SOROSWAP][swap_exact_in] Swap result: amount_in = 1000000, amount_out = 142225
[SOROSWAP][swap_exact_in] Final user balances: TKA = 74989998999000, TKB = 67990998140225
[SOROSWAP][swap_exact_out] Required input for desired_out 500000 is 3515550
[SOROSWAP][swap_exact_out] --- BEGIN ---
[SOROSWAP][swap_exact_out] Params: desired_out = 500000, max_in = 3515550, deadline = 100
[SOROSWAP][swap_exact_out] Path: Vec(Ok(Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)), Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)))
[SOROSWAP][swap_exact_out] Initial user balances: TKA = 74989998999000, TKB = 67990998140225
[SOROSWAP][swap_exact_out] SwapExactOut result: max_in = 3515550, actual_in = 3515550, desired_out = 500000
[SOROSWAP][swap_exact_out] Final user balances: TKA = 74989995483450, TKB = 67990998640225
[SOROSWAP][swap_exact_out] --- END ---
[SOROSWAP][add_liquidity] Pool reserves before: (14020004515550, 1999999357775)
[SOROSWAP][add_liquidity] User LP balance before: 2647640457974
[SOROSWAP][add_liquidity] Adding liquidity: amount_a = 500000, amount_b = 500000
[SOROSWAP][add_liquidity] Result: amt_a = 500000, amt_b = 71326, lp = 94422
[SOROSWAP][add_liquidity] Pool reserves after: (14020005015550, 1999999429101)
[SOROSWAP][add_liquidity] User LP balance after: 2647640552396
[SOROSWAP][remove_liquidity] Pool reserves before: (14020005015550, 1999999429101)
[SOROSWAP][remove_liquidity] User LP balance before: 2647640552396
[SOROSWAP][remove_liquidity] Removing liquidity: lp_amt = 100000
[SOROSWAP][remove_liquidity] Result: amt_a_out = 529528, amt_b_out = 75538
[SOROSWAP][remove_liquidity] Pool reserves after: (14020004486022, 1999999353563)
[SOROSWAP][remove_liquidity] User LP balance after: 2647640452396
[COMET][swap_exact_in] Initial user balances: TKA = 74989995512978, TKB = 67990998644437

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #17)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #17)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #17)], data:["contract call failed", swap_exact_in, [1000000, 0, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[log], data:["VM call trapped with HostError", swap_exact_in, Error(Contract, #17)]
   3: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[error, Error(Contract, #17)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[error, Error(Contract, #17)], data:["contract call failed", swap_exact_amount_in, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 1000000, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 0, 170141183460469231731687303715884105727, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4]]
   5: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[log], data:["VM call trapped with HostError", swap_exact_amount_in, Error(Contract, #17)]
   6: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[error, Error(Contract, #17)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[error, Error(Contract, #17)], data:["failing with contract error", 17]
   8: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[fn_call, CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, swap_exact_amount_in], data:[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 1000000, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 0, 170141183460469231731687303715884105727, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4]
   9: [Diagnostic Event] topics:[fn_call, CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, swap_exact_in], data:[1000000, 0, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
[FAIL][COMET][swap_exact_in]: Any { .. }
[COMET][swap_exact_out] Initial user balances: TKA = 74989995512978, TKB = 67990998644437

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #21)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #21)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #21)], data:["contract call failed", swap_exact_out, [500000, 2000000, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[log], data:["VM call trapped with HostError", swap_exact_out, Error(Contract, #21)]
   3: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[error, Error(Contract, #21)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[error, Error(Contract, #21)], data:["contract call failed", swap_exact_amount_out, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 2000000, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 170141183460469231731687303715884105727, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4]]
   5: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[log], data:["VM call trapped with HostError", swap_exact_amount_out, Error(Contract, #21)]
   6: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[error, Error(Contract, #21)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[error, Error(Contract, #21)], data:["failing with contract error", 21]
   8: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[fn_call, CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, swap_exact_amount_out], data:[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 2000000, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 170141183460469231731687303715884105727, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4]
   9: [Diagnostic Event] topics:[fn_call, CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, swap_exact_out], data:[500000, 2000000, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][COMET][swap_exact_out]: Any { .. }
[COMET][add_liquidity] User balances before: TKA = 74989995512978, TKB = 67990998644437
[COMET][add_liquidity] Result: amt_a = 500000, amt_b = 500000, lp = 500000
[COMET][add_liquidity] User balances after: TKA = 74989995512477, TKB = 67990998643936
[COMET][remove_liquidity] Removing liquidity: lp_amt = 100000
[COMET][remove_liquidity] Result: amt_a_out = 50000, amt_b_out = 50000
[AQUA][swap_exact_in] Initial user balances: TKA = 74989995512577, TKB = 67990998644036

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #404)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:["contract call failed", swap_exact_in, [1000000, 0, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", swap_exact_in, Error(Contract, #404)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:["contract call failed", swap_chained, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 1000000, 0]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[log], data:["VM call trapped with HostError", swap_chained, Error(Contract, #404)]
   6: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:["failing with contract error", 404]
   8: [Failed Diagnostic Event (not emitted)] contract:CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, topics:[fn_return, transfer], data:Void
   9: [Failed Contract Event (not emitted)] contract:CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, topics:[transfer, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, "aaa:GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGO6V"], data:1000000
   10: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[fn_call, CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, transfer], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, 1000000]
   11: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, swap_chained], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 1000000, 0]
   12: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, swap_exact_in], data:[1000000, 0, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][swap_exact_in]: Any { .. }
[AQUA][swap_exact_out] Initial user balances: TKA = 74989995512577, TKB = 67990998644036

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #404)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:["contract call failed", swap_exact_out, [500000, 2000000, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", swap_exact_out, Error(Contract, #404)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:["contract call failed", swap_chained_strict_receive, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 500000, 2000000]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[log], data:["VM call trapped with HostError", swap_chained_strict_receive, Error(Contract, #404)]
   6: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:["failing with contract error", 404]
   8: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, swap_chained_strict_receive], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 500000, 2000000]
   9: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, swap_exact_out], data:[500000, 2000000, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][swap_exact_out]: Any { .. }
[AQUA][add_liquidity] User balances before: TKA = 74989995512577, TKB = 67990998644036

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #404)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:["contract call failed", add_liquidity, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", add_liquidity, Error(Contract, #404)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:["contract call failed", deposit, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), [500000, 500000], 1]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[log], data:["VM call trapped with HostError", deposit, Error(Contract, #404)]
   6: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:["failing with contract error", 404]
   8: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, deposit], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), [500000, 500000], 1]
   9: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, add_liquidity], data:[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][add_liquidity]: Any { .. }
[AQUA][remove_liquidity] Removing liquidity: lp_amt = 100000

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(WasmVm, InvalidAction)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(WasmVm, InvalidAction)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(WasmVm, InvalidAction)], data:["contract call failed", remove_liquidity, [CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW, 100000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", remove_liquidity, Error(WasmVm, InvalidAction)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(WasmVm, InvalidAction)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(WasmVm, InvalidAction)], data:["contract call failed", withdraw, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [], Bytes(0000000000000000000000000000000000000000000000000000000000000000), 100000, [1, 1]]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(WasmVm, InvalidAction)], data:["VM call trapped: UnreachableCodeReached", withdraw]
   6: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, withdraw], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [], Bytes(0000000000000000000000000000000000000000000000000000000000000000), 100000, [1, 1]]
   7: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, remove_liquidity], data:[CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW, 100000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][remove_liquidity]: Any { .. }
[PHOENIX][swap_exact_in] Initial user balances: TKA = 74989995512577, TKB = 67990998644036
[PHOENIX][swap_exact_in] Swap result: amount_in = 1000000, amount_out = 571429
[PHOENIX][swap_exact_in] Final user balances: TKA = 74989994512577, TKB = 67990999215465
[PHOENIX][swap_exact_out] Initial user balances: TKA = 74989994512577, TKB = 67990999215465
[PHOENIX][swap_exact_out] Swap result: max_in = 2000000, actual_in = 875000, desired_out = 500000
[PHOENIX][swap_exact_out] Final user balances: TKA = 74989993637577, TKB = 67990999715465
[PHOENIX][add_liquidity] User balances before: TKA = 74989993637577, TKB = 67990999715465

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #308)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #308)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #308)], data:["contract call failed", add_liquidity, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[log], data:["VM call trapped with HostError", add_liquidity, Error(Contract, #308)]
   3: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[error, Error(Contract, #308)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[error, Error(Contract, #308)], data:["contract call failed", provide_liquidity, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 500000, 1, 500000, 1, Void, 100, false]]
   5: [Failed Diagnostic Event (not emitted)] contract:CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, topics:[log], data:["VM call trapped with HostError", provide_liquidity, Error(Contract, #308)]
   6: [Failed Diagnostic Event (not emitted)] contract:CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, topics:[error, Error(Contract, #308)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, topics:[error, Error(Contract, #308)], data:["failing with contract error", 308]
   8: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[fn_call, CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, provide_liquidity], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 500000, 1, 500000, 1, Void, 100, false]
   9: [Diagnostic Event] topics:[fn_call, CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, add_liquidity], data:[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][PHOENIX][add_liquidity]: Any { .. }
[PHOENIX][remove_liquidity] Removing liquidity: lp_amt = 100000
[PHOENIX][remove_liquidity] Result: amt_a_out = 200000, amt_b_out = 114285

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at router/src/tests/test_setup.rs:1060:9:
7 adapter subtests failed. See log for details.
Writing test snapshot file for test "tests::test_setup::test_all_adapters_all_functions" to "test_snapshots/tests/test_setup/test_all_adapters_all_functions.1.json".
FAILED

failures:

failures:
    tests::test_setup::test_all_adapters_all_functions

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 5 filtered out; finished in 7.46s

error: test failed, to rerun pass `--lib`


test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/hoops_common-5a22754db8f89f86)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/hoops_router-b95a4e775a2200bb)

running 1 test
test tests::test_setup::test_all_adapters_all_functions ... [SETUP] Starting HoopsTestEnvironment setup
[SETUP] Creating test accounts
[SETUP] Deploying tokens
[LOG] Token A deployed at: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)
[LOG] Token B deployed at: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)
[LOG] Token C deployed at: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)
[SETUP] Minting tokens to admin and user
[LOG] Minted 100000000000000 TokenA to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM)
[LOG] Minted 100000000000000 TokenB to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM)
[LOG] Minted 100000000000000 TokenC to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM)
[LOG] Minted 100000000000000 TokenA to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4)
[LOG] Minted 100000000000000 TokenB to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4)
[LOG] Minted 100000000000000 TokenC to Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4)
[SETUP] Setting up Soroswap environment
[Soroswap] Minting 7010000000000 of token A and 1000000000000 of token B for Pool AB
[Soroswap] Depositing to Pool AB: 7010000000000 A, 1000000000000 B
[Soroswap] Minting 1010000000000 of token B and 1000000000000 of token C for Pool BC
[Soroswap] Depositing to Pool BC: 1010000000000 B, 1000000000000 C
soroswap environment setup complete. Pools: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N), Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX), router: Contract(CDXKQTPLDDF4RBMJCCTGV2XQ44DCJOY7XZZKPEDJFKQTECSTYHBOI42O), factory: Contract(CD5M24KZHINN46ZCECBNWYKINAIJGRO4WTZNGUCISPZIYUZZAWDS6H7Y)
[LOG] Soroswap router deployed at: Contract(CDXKQTPLDDF4RBMJCCTGV2XQ44DCJOY7XZZKPEDJFKQTECSTYHBOI42O)
[LOG] Soroswap factory deployed at: Contract(CD5M24KZHINN46ZCECBNWYKINAIJGRO4WTZNGUCISPZIYUZZAWDS6H7Y)
[LOG] Soroswap pool 0 deployed at: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N)
[LOG] Soroswap pool 1 deployed at: Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX)
[SETUP] Soroswap environment ready
[SETUP] Setting up Aqua environment
[Aqua] Minting 6999000000000 of token A and 1000000000000 of token B for Pool AB
[Aqua] Depositing to Pool AB: 6999000000000 A, 1000000000000 B
[Aqua] Minting 1000000000000 of token B and 999000000000 of token C for Pool BC
[Aqua] Depositing to Pool BC: 1000000000000 B, 999000000000 C
Aqua pools created: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW), Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)
[LOG] Aqua router deployed at: Contract(CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K)
[LOG] Aqua factory (router) deployed at: Contract(CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K)
[LOG] Aqua pool 0 deployed at: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW)
[LOG] Aqua pool 1 deployed at: Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)
[SETUP] Aqua environment ready
[SETUP] Deploying Phoenix factory
[LOG] Phoenix factory deployed at: Contract(CAIASALDBMWE7F7CU5TVNGKXIP22M7CTE5ROQOZFMIZIYDIYV6YRW2V7)
[SETUP] Setting up Phoenix pools
Phoenix LP Init Info AB: LiquidityPoolInitInfo { admin: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), default_slippage_bps: 2500, fee_recipient: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4), max_allowed_slippage_bps: 5000, max_allowed_spread_bps: 500, max_referral_bps: 5000, stake_init_info: StakeInitInfo { manager: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), max_complexity: 10, min_bond: 10, min_reward: 10 }, swap_fee_bps: 0, token_init_info: TokenInitInfo { token_a: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF), token_b: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN) } }
Phoenix LP Init Info BC: LiquidityPoolInitInfo { admin: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), default_slippage_bps: 2500, fee_recipient: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4), max_allowed_slippage_bps: 5000, max_allowed_spread_bps: 500, max_referral_bps: 5000, stake_init_info: StakeInitInfo { manager: Contract(CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM), max_complexity: 10, min_bond: 10, min_reward: 10 }, swap_fee_bps: 0, token_init_info: TokenInitInfo { token_a: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), token_b: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG) } }
Phoenix constant pool AB address: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA)
Phoenix stable pool BC address: Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
Phoenix Pools created: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA), Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
[LOG] Phoenix pool 0 deployed at: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA)
[LOG] Phoenix pool 1 deployed at: Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
[Phoenix] Minting 7000000000000 of token A and 1000000000000 of token B for Pool AB
[Phoenix] Depositing to Pool AB: 7000000000000 A, 1000000000000 B
[Phoenix] Minting 999000000000 of token B and 1000000000000 of token C for Pool BC
[Phoenix] Depositing to Pool BC: 999000000000 B, 1000000000000 C
[SETUP] Phoenix environment ready
[SETUP] Setting up Comet environment
[Comet] Registering factory contract
[Comet] Uploading pool WASM
[Comet] Initializing factory
[Comet] Creating pool: token_a/token_b (80/20, 1M each)
[Comet] Pool AB address: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)
[Comet] Creating pool: token_b/token_c (50/50, 1M each)
[Comet] Pool BC address: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)
[Comet] Minting 8000000 of token A and 2000000 of token B for Pool AB
[Comet] Depositing to Pool AB: 8000000 A, 2000000 B
[Comet] Minting 5000000 of token B and 5000000 of token C for Pool BC
[Comet] Depositing to Pool BC: 5000000 B, 5000000 C
[Comet] All pools created: Vec(Ok(Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)), Ok(Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)))
[LOG] Comet factory deployed at: Contract(CAQ5UHPIIQ2LXWNVOLLZFEQOUYIWGPGDEMNH4WJQCX3C4LPOI6EKQH5V)
[LOG] Comet pool 0 deployed at: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)
[LOG] Comet pool 1 deployed at: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)
[SETUP] Comet environment ready
[SETUP] Deploying Soroswap adapter
[LOG] Soroswap adapter deployed at: Contract(CBJPUABS5H6EDPZ7AGJYOEWEDQ5HWMZDJNJYFGTTHDEI5FHONNL2BQN5)
[SETUP] Soroswap adapter initialized
[SETUP] Deploying Aqua adapter
[LOG] Aqua adapter deployed at: Contract(CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU)
[SETUP] Aqua adapter initialized
[SETUP] Deploying Phoenix adapter
[LOG] Phoenix adapter deployed at: Contract(CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S)
[SETUP] Phoenix adapter initialized
[SETUP] Deploying Comet adapter
[LOG] Comet adapter deployed at: Contract(CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA)
[SETUP] Comet adapter initialized
[SETUP] Registered Comet pool Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS) for tokens Vec(Ok(Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)), Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)))
[SETUP] Registered Comet pool Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY) for tokens Vec(Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)), Ok(Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)))
[SETUP] Deploying Hoops router
[LOG] Hoops router deployed at: Contract(CB76PKAOC5LBYBH4THVOZGG3U6Y4NUBWGBZVEIN4NCWHUUHRU2BNGNPE)
[SETUP] Hoops router initialized
[SETUP] HoopsTestEnvironment setup complete
[REPORT] Soroswap Pools:
[REPORT]   Pool: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N)
[REPORT - Soroswap]     Tokens: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF), Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)
[REPORT - Soroswap]     Reserves: 7010000000000, 1000000000000
[REPORT - Soroswap]     LP Token: Contract(CBOMCLPAGNR6GMX6KF7CP5MTQCOATKD7BTJTUK7MRRURD4AA5RN63K2N) User LP Balance: 2647640457974
[REPORT]   Pool: Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX)
[REPORT - Soroswap]     Tokens: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)
[REPORT - Soroswap]     Reserves: 1010000000000, 1000000000000
[REPORT - Soroswap]     LP Token: Contract(CCOHI4QJBBETS5P6F42M3VZM7NDR4CEUE6B5OPZDT7FXHVIJJSVCJPLX) User LP Balance: 1004987561112
[REPORT] Aqua Pools:
[REPORT]   Pool: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW)
[REPORT - Aqua]     Tokens: Vec(Ok(Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)), Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)))
[REPORT - Aqua]     Reserves: Vec(Ok(11000000000000), Ok(11000000000000))
[REPORT - Aqua]     Pool: Contract(CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW)  LP Token: Contract(CCKXCJQ627FIADDV4MGVLUNRXKUOAXBSZXX3LWUP6NS22HNI4GNQ4J7M) User LP Balance: 11000000000000
[REPORT]   Pool: Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)
[REPORT - Aqua]     Tokens: Vec(Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)), Ok(Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)))
[REPORT - Aqua]     Reserves: Vec(Ok(11000000000000), Ok(10999000000000))
[REPORT - Aqua]     Pool: Contract(CBNMFT27LQH4FQELKAQM2KFBYPABPTGZOSJDGDDGQWDCM7FU54HFLEBI)  LP Token: Contract(CB4YFYPAYB7JMBISV6RELYDNRB47D4KYN3R2YOZORAQBHKPJQD362FST) User LP Balance: 21998999499983
[REPORT] Phoenix Pools:
[REPORT]   Pool: Contract(CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA)
[REPORT - Phoenix]     Pool Info: PoolResponse { asset_a: Asset { address: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF), amount: 14000000000000 }, asset_b: Asset { address: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), amount: 8000000000000 }, asset_lp_share: Asset { address: Contract(CCO3TGKNVFUK4JKLRTBNRY6BX3XKESSFRKHNIOQVMAGHUI7BDTC4AJWW), amount: 7000000000000 }, stake_address: Contract(CACX5TJTACPXUMJIMVWMMVJHQOGD376WYV73GC37BGJN3442MVCJCSUA) }
[REPORT - Phoenix]     Asset A: Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF) amount: 14000000000000
[REPORT - Phoenix]     Asset B: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN) amount: 8000000000000
[REPORT - Phoenix]     LP Share: Contract(CCO3TGKNVFUK4JKLRTBNRY6BX3XKESSFRKHNIOQVMAGHUI7BDTC4AJWW) amount: 7000000000000
[REPORT - Phoenix]     User LP Balance: 6999999999000
[REPORT]   Pool: Contract(CDYISRMQ4ME3PF6HRDYFJFLTV4TENJBV2X5HPJU23IFEAQSHKL2H2X4B)
[REPORT - Phoenix]     Pool Info: PoolResponse { asset_a: Asset { address: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN), amount: 1998000000000 }, asset_b: Asset { address: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG), amount: 2000000000000 }, asset_lp_share: Asset { address: Contract(CCSZRO2PYKLSSTZXGVDKTKB7EIATYFM54HLO4IRG3LJPPMJISLWM3AWF), amount: 1998999998999 }, stake_address: Contract(CCR7CS5VIG6QAIWWDH6ZYI3YXBHIGRIT75ZP7WTMHQ2B2A2XEP7D7UGJ) }
[REPORT - Phoenix]     Asset A: Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN) amount: 1998000000000
[REPORT - Phoenix]     Asset B: Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG) amount: 2000000000000
[REPORT - Phoenix]     LP Share: Contract(CCSZRO2PYKLSSTZXGVDKTKB7EIATYFM54HLO4IRG3LJPPMJISLWM3AWF) amount: 1998999998999
[REPORT - Phoenix]     User LP Balance: 1998999998999
[REPORT] Comet Pools:
[REPORT]   Pool: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS)
[REPORT - Comet]     Tokens: Vec(Ok(Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)), Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)))
[REPORT - Comet]       Balance for token Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF): 1001000
[REPORT - Comet]       Balance for token Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN): 1001000
[REPORT - Comet]     LP Token: Contract(CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS) User LP Balance: 1000000
[REPORT]   Pool: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY)
[REPORT - Comet]     Tokens: Vec(Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)), Ok(Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG)))
[REPORT - Comet]       Balance for token Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN): 1001000
[REPORT - Comet]       Balance for token Contract(CDLDVFKHEZ2RVB3NG4UQA4VPD3TSHV6XMHXMHP2BSGCJ2IIWVTOHGDSG): 1001000
[REPORT - Comet]     LP Token: Contract(CALOLHPDL32YUZ6THJ5TA7LX7QGOOXFWIUJR4NE6T7LNS66VSE5U7EUY) User LP Balance: 1000000
[SOROSWAP][swap_exact_in] Initial user balances: TKA = 74989999999000, TKB = 67990997998000
[SOROSWAP][swap_exact_in] Swap result: amount_in = 1000000, amount_out = 142225
[SOROSWAP][swap_exact_in] Final user balances: TKA = 74989998999000, TKB = 67990998140225
[SOROSWAP][swap_exact_out] Required input for desired_out 500000 is 3515550
[SOROSWAP][swap_exact_out] --- BEGIN ---
[SOROSWAP][swap_exact_out] Params: desired_out = 500000, max_in = 3515550, deadline = 100
[SOROSWAP][swap_exact_out] Path: Vec(Ok(Contract(CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF)), Ok(Contract(CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN)))
[SOROSWAP][swap_exact_out] Initial user balances: TKA = 74989998999000, TKB = 67990998140225
[SOROSWAP][swap_exact_out] SwapExactOut result: max_in = 3515550, actual_in = 3515550, desired_out = 500000
[SOROSWAP][swap_exact_out] Final user balances: TKA = 74989995483450, TKB = 67990998640225
[SOROSWAP][swap_exact_out] --- END ---
[SOROSWAP][add_liquidity] Pool reserves before: (14020004515550, 1999999357775)
[SOROSWAP][add_liquidity] User LP balance before: 2647640457974
[SOROSWAP][add_liquidity] Adding liquidity: amount_a = 500000, amount_b = 500000
[SOROSWAP][add_liquidity] Result: amt_a = 500000, amt_b = 71326, lp = 94422
[SOROSWAP][add_liquidity] Pool reserves after: (14020005015550, 1999999429101)
[SOROSWAP][add_liquidity] User LP balance after: 2647640552396
[SOROSWAP][remove_liquidity] Pool reserves before: (14020005015550, 1999999429101)
[SOROSWAP][remove_liquidity] User LP balance before: 2647640552396
[SOROSWAP][remove_liquidity] Removing liquidity: lp_amt = 100000
[SOROSWAP][remove_liquidity] Result: amt_a_out = 529528, amt_b_out = 75538
[SOROSWAP][remove_liquidity] Pool reserves after: (14020004486022, 1999999353563)
[SOROSWAP][remove_liquidity] User LP balance after: 2647640452396
[COMET][swap_exact_in] Initial user balances: TKA = 74989995512978, TKB = 67990998644437
[COMET][swap_exact_in] Swap result: amount_in = 10000, amount_out = 39009
[COMET][swap_exact_in] Final user balances: TKA = 74989995502978, TKB = 67990998683446
[COMET][swap_exact_out] Initial user balances: TKA = 74989995502978, TKB = 67990998683446
[COMET][swap_exact_out] Swap result: max_in = 20000, actual_in = 1319, desired_out = 5000
[COMET][swap_exact_out] Final user balances: TKA = 74989995501659, TKB = 67990998688446
[COMET][add_liquidity] User balances before: TKA = 74989995501659, TKB = 67990998688446

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Object, ArithDomain)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Object, ArithDomain)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Object, ArithDomain)], data:["contract call failed", add_liquidity, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 10000000, 10000000, 9950000, 9950000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[log], data:["VM call trapped with HostError", add_liquidity, Error(Object, ArithDomain)]
   3: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[error, Error(Object, ArithDomain)], data:"escalating error to VM trap from failed host function call: i256_mul"
   4: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[error, Error(Object, ArithDomain)], data:["overflow has occured", 1198207971363622536362789643158266602531993566330299854314, -416839632566414341683]
   5: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[fn_return, get_normalized_weight], data:8000000
   6: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[fn_call, CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, get_normalized_weight], data:CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF
   7: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[fn_return, get_balance], data:1012319
   8: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[fn_call, CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, get_balance], data:CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF
   9: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[fn_return, get_swap_fee], data:3000
   10: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[fn_call, CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, get_swap_fee], data:Void
   11: [Failed Diagnostic Event (not emitted)] contract:CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, topics:[fn_return, get_total_supply], data:1001000000
   12: [Failed Diagnostic Event (not emitted)] contract:CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, topics:[fn_call, CDB66KXGRE5VULNX2QCO4OFKJ4FLV7J3C64DNSGS2PG4IYYO3IMF6QVS, get_total_supply], data:Void
   13: [Diagnostic Event] topics:[fn_call, CCLYTZZ7FAN6SSHV4QW2LEH7PMSQWBXM4T5A66SUPGJXEFXASZTM7YHA, add_liquidity], data:[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 10000000, 10000000, 9950000, 9950000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
[FAIL][COMET][add_liquidity]: Any { .. }
[INFO][COMET] add liquidity failed, skipping remove
[AQUA][swap_exact_in] Initial user balances: TKA = 74989995501659, TKB = 67990998688446

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #404)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:["contract call failed", swap_exact_in, [1000000, 0, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", swap_exact_in, Error(Contract, #404)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:["contract call failed", swap_chained, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 1000000, 0]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[log], data:["VM call trapped with HostError", swap_chained, Error(Contract, #404)]
   6: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:["failing with contract error", 404]
   8: [Failed Diagnostic Event (not emitted)] contract:CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, topics:[fn_return, transfer], data:Void
   9: [Failed Contract Event (not emitted)] contract:CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, topics:[transfer, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, "aaa:GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGO6V"], data:1000000
   10: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[fn_call, CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, transfer], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, 1000000]
   11: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, swap_chained], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 1000000, 0]
   12: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, swap_exact_in], data:[1000000, 0, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][swap_exact_in]: Any { .. }
[AQUA][swap_exact_out] Initial user balances: TKA = 74989995501659, TKB = 67990998688446

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #404)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:["contract call failed", swap_exact_out, [500000, 2000000, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", swap_exact_out, Error(Contract, #404)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:["contract call failed", swap_chained_strict_receive, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 500000, 2000000]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[log], data:["VM call trapped with HostError", swap_chained_strict_receive, Error(Contract, #404)]
   6: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:["failing with contract error", 404]
   8: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, swap_chained_strict_receive], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [[[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN]], CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, 500000, 2000000]
   9: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, swap_exact_out], data:[500000, 2000000, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][swap_exact_out]: Any { .. }
[AQUA][add_liquidity] User balances before: TKA = 74989995501659, TKB = 67990998688446

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #404)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #404)], data:["contract call failed", add_liquidity, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", add_liquidity, Error(Contract, #404)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(Contract, #404)], data:["contract call failed", deposit, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), [500000, 500000], 1]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[log], data:["VM call trapped with HostError", deposit, Error(Contract, #404)]
   6: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(Contract, #404)], data:["failing with contract error", 404]
   8: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, deposit], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN], Bytes(0000000000000000000000000000000000000000000000000000000000000000), [500000, 500000], 1]
   9: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, add_liquidity], data:[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][add_liquidity]: Any { .. }
[AQUA][remove_liquidity] Removing liquidity: lp_amt = 100000

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(WasmVm, InvalidAction)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(WasmVm, InvalidAction)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(WasmVm, InvalidAction)], data:["contract call failed", remove_liquidity, [CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW, 100000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[log], data:["VM call trapped with HostError", remove_liquidity, Error(WasmVm, InvalidAction)]
   3: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(WasmVm, InvalidAction)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[error, Error(WasmVm, InvalidAction)], data:["contract call failed", withdraw, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [], Bytes(0000000000000000000000000000000000000000000000000000000000000000), 100000, [1, 1]]]
   5: [Failed Diagnostic Event (not emitted)] contract:CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, topics:[error, Error(WasmVm, InvalidAction)], data:["VM call trapped: UnreachableCodeReached", withdraw]
   6: [Failed Diagnostic Event (not emitted)] contract:CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, topics:[fn_call, CC6YSLPYSKOZZFQSYO3UWY6VG5ZFKBXYOVDLAO7CVS26QZAFFR6AWO5K, withdraw], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, [], Bytes(0000000000000000000000000000000000000000000000000000000000000000), 100000, [1, 1]]
   7: [Diagnostic Event] topics:[fn_call, CDNHTIE2GANHCMIKRZQEC26N6YNJ4M3EWEQ3IXO6AVVO7TANOHBNXAVU, remove_liquidity], data:[CAJOCEPE5NNLWXTDMY4FDWX7CO74QVOXK2XCCV3GR77O7BCWKD6CUDOW, 100000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][AQUA][remove_liquidity]: Any { .. }
[PHOENIX][swap_exact_in] Initial user balances: TKA = 74989995501659, TKB = 67990998688446
[PHOENIX][swap_exact_in] Swap result: amount_in = 1000000, amount_out = 571429
[PHOENIX][swap_exact_in] Final user balances: TKA = 74989994501659, TKB = 67990999259875
[PHOENIX][swap_exact_out] Initial user balances: TKA = 74989994501659, TKB = 67990999259875
[PHOENIX][swap_exact_out] Swap result: max_in = 2000000, actual_in = 875000, desired_out = 500000
[PHOENIX][swap_exact_out] Final user balances: TKA = 74989993626659, TKB = 67990999759875
[PHOENIX][add_liquidity] User balances before: TKA = 74989993626659, TKB = 67990999759875

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at /root/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #308)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #308)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #308)], data:["contract call failed", add_liquidity, [CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]]
   2: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[log], data:["VM call trapped with HostError", add_liquidity, Error(Contract, #308)]
   3: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[error, Error(Contract, #308)], data:"escalating error to VM trap from failed host function call: call"
   4: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[error, Error(Contract, #308)], data:["contract call failed", provide_liquidity, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 500000, 1, 500000, 1, Void, 100, false]]
   5: [Failed Diagnostic Event (not emitted)] contract:CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, topics:[log], data:["VM call trapped with HostError", provide_liquidity, Error(Contract, #308)]
   6: [Failed Diagnostic Event (not emitted)] contract:CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, topics:[error, Error(Contract, #308)], data:"escalating error to VM trap from failed host function call: fail_with_error"
   7: [Failed Diagnostic Event (not emitted)] contract:CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, topics:[error, Error(Contract, #308)], data:["failing with contract error", 308]
   8: [Failed Diagnostic Event (not emitted)] contract:CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, topics:[fn_call, CAVCZPBF2IBGORHDJFMJPNKVEYJWEZW52NF7M3XIVLUIVLMQO3KESYZA, provide_liquidity], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 500000, 1, 500000, 1, Void, 100, false]
   9: [Diagnostic Event] topics:[fn_call, CBEMG5GOIFQOIUFIH6S4TDBQ32RFS6QHAKKLZO4MBXXCA26YPZMELO5S, add_liquidity], data:[CBUSYNQKASUYFWYC3M2GUEDMX4AIVWPALDBYJPNK6554BREHTGZ2IUNF, CCABDO7UZXYE4W6GVSEGSNNZTKSLFQGKXXQTH6OX7M7GKZ4Z6CUJNGZN, 500000, 500000, 1, 1, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCT4, 100]

[FAIL][PHOENIX][add_liquidity]: Any { .. }
[PHOENIX][remove_liquidity] Removing liquidity: lp_amt = 100000
[PHOENIX][remove_liquidity] Result: amt_a_out = 200000, amt_b_out = 114285

thread 'tests::test_setup::test_all_adapters_all_functions' panicked at router/src/tests/test_setup.rs:1080:9:
6 adapter subtests failed. See log for details.
Writing test snapshot file for test "tests::test_setup::test_all_adapters_all_functions" to "test_snapshots/tests/test_setup/test_all_adapters_all_functions.1.json".
FAILED

failures:

failures:
    tests::test_setup::test_all_adapters_all_functions

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 5 filtered out; finished in 8.35s

error: test failed, to rerun pass `-p hoops-router --lib`
